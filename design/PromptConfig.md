<!--
Copyright (c) 2024 Martin Bechard <martin.bechard@DevConsult.ca>
This software is licensed under the MIT License.
File: /Users/martinbechard/dev/mcp-dev-prompter/design/PromptConfig.md
This was generated by Claude Sonnet 3.5, with the assistance of my human mentor

Design document for prompt template configuration types
Configuration: Turning templates into prompts with style!
-->

# Table of Contents
- Type: TemplateMetadata
- Type: TemplateArgument
- Type: LoadedTemplate
- Type: PromptConfig

---
# Type: TemplateMetadata

## Overview
Type definition for the metadata stored in template frontmatter.

## Design Requirements
1. MUST be implemented as a type (not interface) as specified in high-level design
   Source: High-level design document
2. MUST match structure of template frontmatter
   Source: DevPrompterServer design
3. MUST include proper JSDoc comments for all fields
   Source: TypeScript documentation best practices

## Attributes
```typescript
/**
 * Metadata configuration for a prompt template
 */
type TemplateMetadata = {
    /** Human-readable description of the prompt */
    description: string;

    /** Semantic version of the template */
    version: string;

    /** Arguments that can be used in the template */
    arguments: TemplateArgument[];
}
```

# Type: TemplateArgument

## Overview
Type definition for template argument specifications.

## Design Requirements
1. MUST be implemented as a type (not interface)
2. MUST include all necessary argument metadata
3. MUST support required and optional arguments

## Attributes
```typescript
/**
 * Specification for a template argument
 */
type TemplateArgument = {
    /** Name of the argument for use in template */
    name: string;

    /** Human-readable description of the argument */
    description: string;

    /** Whether this argument must be provided */
    required: boolean;
}
```

# Type: LoadedTemplate

## Overview
Type definition for a fully loaded and parsed template.

## Design Requirements
1. MUST combine metadata and content
2. MUST preserve original filename for reference
3. MUST include parsed sections of the template

## Attributes
```typescript
/**
 * Fully loaded and parsed template
 */
type LoadedTemplate = {
    /** Base filename without extension */
    id: string;

    /** Template metadata from frontmatter */
    metadata: TemplateMetadata;

    /** Parsed template sections */
    sections: {
        /** User-visible title */
        title: string;

        /** User-visible description */
        description: string;

        /** Handlebars template content */
        template: string;
    };

    /** Raw template content */
    rawContent: string;
}
```

# Type: PromptConfig

## Overview
Type definition for configuring prompt generation.

## Design Requirements
1. MUST be implemented as a type (not interface)
2. MUST include template identifier
3. MUST support all possible template arguments

## Design Considerations
1. Type Validation Boundaries
   - WHY: Ensure arguments match template requirements
   - HOW: Use Zod schema in validator component
   - EXAMPLE:
     ```typescript
     // In validator:
     templateId: z.string(),
     arguments: z.record(z.string(), z.unknown())
     ```

2. Default Values
   - WHY: Support optional arguments
   - HOW: Check against template metadata
   - EXAMPLE:
     ```typescript
     // In service:
     const config = {
       templateId: 'high-level-design',
       arguments: {
         projectName: 'MyProject',
         purpose: 'Main purpose',
         // constraints is optional
       }
     }
     ```

## Attributes
```typescript
/**
 * Configuration for prompt generation
 */
type PromptConfig = {
    /** Template identifier (filename without extension) */
    templateId: string;

    /** 
     * Template argument values
     * Keys must match argument names in template
     */
    arguments: Record<string, unknown>;
}
```